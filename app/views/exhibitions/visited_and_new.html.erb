<h2>Add Exhibition That you've already visited</h2>
<p>An exhibition that you have already been to, this includes uploading photos </p>

<% if @exhibition.errors.any? %>
    <div id='error_explanation'>
        <h2><%= pluralize(@exhibition.errors.count, "error")%> prohibited this exhibition from being saved:</h2>
        <ul>
            <% @exhibition.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
        </ul>
    </div>
<% end %>

<%= form_with(model: @exhibition) do |f| %>
    <%= f.label :title %>
    <%= f.text_field :title %>
    <%= f.label :url %>
    <%= f.text_field :url %>
    <br><br>
    <%= f.fields_for :gallery_exhibitions do |gallery_exhibitions_fields| %>
        <%= gallery_exhibitions_fields.label :gallery_id, 'Gallery' %>
        <%= gallery_exhibitions_fields.select :gallery_id, Gallery.all.map { |g| [g.name, g.id] }, include_blank: true %>
    <% end %>
    <br><br>

    <%= f.fields_for :artists do |artist_fields| %>
        <%= artist_fields.label :name, 'Add artist' %>
        <%= artist_fields.text_field :name %>
    <% end %>

    <%= fields_for :activity do |activity_fields| %>
        <%= activity_fields.label :completed_at, 'Date of Visit' %>
        <%= activity_fields.date_field :completed_at %>

        <%= activity_fields.label :images, 'Upload Images' %>

    <% end %>
    <br><br>
    <%= f.submit 'Submit' %>
<% end %>
